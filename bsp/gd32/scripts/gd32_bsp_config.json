{
  "_comment": [
    "GD32 BSP 统一配置文件",
    "用途：CI 自动编译 + 本地测试",
    "CI 使用 'legs' 字段（RT-Thread 标准格式）",
    "本地测试使用 'local_test' 字段"
  ],
  
  "legs": [
    {
      "RTT_BSP": "gd32_arm",
      "RTT_TOOL_CHAIN": "sourcery-arm",
      "SUB_RTT_BSP": [
        "gd32/arm/gd32103c-eval",
        "gd32/arm/gd32105c-eval",
        "gd32/arm/gd32105r-start",
        "gd32/arm/gd32107c-eval",
        "gd32/arm/gd32205r-start",
        "gd32/arm/gd32207i-eval",
        "gd32/arm/gd32303c-start",
        "gd32/arm/gd32303e-eval",
        "gd32/arm/gd32305r-start",
        "gd32/arm/gd32307e-start",
        "gd32/arm/gd32407v-start",
        "gd32/arm/gd32407v-lckfb",
        "gd32/arm/gd32450z-eval",
        "gd32/arm/gd32470i-eval",
        "gd32/arm/gd32470z-lckfb",
        "gd32/arm/gd32e503v-eval",
        "gd32/arm/gd32527I-eval",
        "gd32/arm/gd32e230-lckfb",
        "gd32/arm/gd32h759i-start",
        "gd32/arm/gd32h759i-eval",
        "gd32/arm/gd32h759i-eval-citest",
        "gd32/arm/gd32h75ey-eval"
      ]
    }
  ],
  
  "local_test": {
    "test_name": "GD32 ARM BSP Local Build Test",
    "version": "2.0",
    "description": "GD32 ARM 系列 BSP 本地编译测试配置（与 CI 共用 BSP 列表）",
    "bsp_base_path": "bsp/gd32/arm",
    "test_bsps": [
      "gd32103c-eval",
      "gd32105c-eval",
      "gd32105r-start",
      "gd32107c-eval",
      "gd32205r-start",
      "gd32207i-eval",
      "gd32303c-start",
      "gd32303e-eval",
      "gd32305r-start",
      "gd32307e-start",
      "gd32407v-lckfb",
      "gd32407v-start",
      "gd32450z-eval",
      "gd32470i-eval",
      "gd32470z-lckfb",
      "gd32527I-eval",
      "gd32e230-lckfb",
      "gd32e503v-eval",
      "gd32h759i-eval",
      "gd32h759i-start",
      "gd32h759i-eval-citest",
      "gd32h75ey-eval"
    ],
    "excluded_bsps": [],
    "toolchain": "sourcery-arm",
    "parallel_jobs": 4,
    "timeout_per_bsp": 600,
    "clean_build": false,
    "clean_method": "both",
    "keep_build_dir": false,
    "temp_kconfig_options": [
      "CONFIG_RT_USING_I2C=y",
      "CONFIG_BSP_USING_I2C=y",
      "CONFIG_BSP_USING_I2C0=y",
      "CONFIG_RT_USING_SPI=y",
      "CONFIG_BSP_USING_SPI=y",
      "CONFIG_BSP_USING_SPI0=y"
    ],
    "temp_config_presets": {
      "_description": "预设的临时配置组合，方便快速测试不同功能",
      "i2c_only": {
        "description": "仅启用 I2C 驱动测试",
        "options": [
          "CONFIG_RT_USING_I2C=y",
          "CONFIG_BSP_USING_I2C=y",
          "CONFIG_BSP_USING_I2C0=y"
        ]
      },
      "spi_only": {
        "description": "仅启用 SPI 驱动测试",
        "options": [
          "CONFIG_RT_USING_SPI=y",
          "CONFIG_BSP_USING_SPI=y",
          "CONFIG_BSP_USING_SPI0=y"
        ]
      },
      "i2c_spi": {
        "description": "同时启用 I2C 和 SPI 驱动测试",
        "options": [
          "CONFIG_RT_USING_I2C=y",
          "CONFIG_BSP_USING_I2C=y",
          "CONFIG_BSP_USING_I2C0=y",
          "CONFIG_RT_USING_SPI=y",
          "CONFIG_BSP_USING_SPI=y",
          "CONFIG_BSP_USING_SPI0=y"
        ]
      },
      "full_peripheral": {
        "description": "启用常用外设驱动进行全面测试",
        "options": [
          "CONFIG_RT_USING_I2C=y",
          "CONFIG_BSP_USING_I2C=y",
          "CONFIG_RT_USING_SPI=y",
          "CONFIG_BSP_USING_SPI=y",
          "CONFIG_RT_USING_SERIAL=y",
          "CONFIG_BSP_USING_UART2=y",
          "CONFIG_RT_USING_CAN=y",
          "CONFIG_BSP_USING_CAN=y"
        ]
      }
    },
    "notes": [
      "✅ 本配置文件同时用于 CI 和本地测试",
      "✅ CI 读取 'legs' 字段，本地测试读取 'local_test' 字段",
      "✅ CI 不会使用 temp_kconfig_options，仅本地测试使用",
      "修改 libraries/ 目录会影响所有 BSP",
      "建议在提交前运行完整测试",
      "",
      "配置说明：",
      "  clean_build: 是否执行清理编译 (false=增量, true=完全重编译)",
      "  clean_method: 清理方法 (scons/rmdir/both)",
      "",
      "临时配置功能（仅本地测试）：",
      "  temp_kconfig_options: 临时配置选项列表，编译后自动恢复原始配置",
      "  temp_config_presets: 预设配置组合，便于快速测试",
      "",
      "使用方式：",
      "  1. 直接编辑 temp_kconfig_options 数组",
      "  2. 或参考 temp_config_presets 中的预设",
      "  3. 或保持为空数组 [] 使用默认配置",
      "",
      "示例1 - 测试 I2C+SPI：",
      "  \"temp_kconfig_options\": [",
      "    \"CONFIG_RT_USING_I2C=y\",",
      "    \"CONFIG_BSP_USING_I2C=y\",",
      "    \"CONFIG_RT_USING_SPI=y\",",
      "    \"CONFIG_BSP_USING_SPI=y\"",
      "  ]",
      "",
      "示例2 - 禁用某功能：",
      "  \"temp_kconfig_options\": [",
      "    \"CONFIG_RT_USING_CONSOLE=n\"",
      "  ]",
      "",
      "⚠️ 重要：temp_kconfig_options 仅影响本地测试，CI 测试使用默认配置"
    ]
  }
}
